local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- X√≥a UI c≈© n·∫øu c√≥
if playerGui:FindFirstChild("AntiBanScreen") then
	playerGui.AntiBanScreen:Destroy()
end

-- T·∫°o ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AntiBanScreen"
screenGui.IgnoreGuiInset = true
screenGui.DisplayOrder = 999999 -- ƒê·∫£m b·∫£o n·∫±m tr√™n c√πng
screenGui.Parent = playerGui

-- T·∫°o Background (c√≥ th·ªÉ thay ƒë·ªïi h√¨nh ·∫£nh t·∫°i ƒë√¢y)
local Background = Instance.new("ImageLabel")
Background.Name = "Background"
Background.Parent = screenGui
Background.Size = UDim2.new(1, 0, 1, 0)
Background.Position = UDim2.new(0, 0, 0, 0)
Background.BackgroundTransparency = 1
Background.Image = "rbxassetid://15136859462" -- Thay ƒë·ªïi id n√†y sang ·∫£nh b·∫°n mu·ªën
Background.ImageTransparency = 0.1
Background.ScaleType = Enum.ScaleType.Crop

-- Overlay nh·∫π ƒë·ªÉ l√†m t·ªëi n·ªÅn n·∫øu c·∫ßn
local Overlay = Instance.new("Frame")
Overlay.BackgroundColor3 = Color3.fromRGB(10,10,10)
Overlay.BackgroundTransparency = 0.4
Overlay.Size = UDim2.new(1,0,1,0)
Overlay.Parent = Background

-- D√≤ng ch·ªØ ch√≠nh (phong c√°ch tr·∫ª trung, neon, l·∫Øc l∆∞)
local Title = Instance.new("TextLabel")
Title.Parent = Background
Title.AnchorPoint = Vector2.new(0.5, 1)
Title.Position = UDim2.new(0.5, 0, 0.85, 0)
Title.Size = UDim2.new(0.92, 0, 0.15, 0)
Title.BackgroundTransparency = 1
Title.Text = "üî• Waiting For The AntiBan Enable üî•"
Title.TextColor3 = Color3.fromRGB(0,255,255)
Title.TextStrokeTransparency = 0.2
Title.TextStrokeColor3 = Color3.fromRGB(255,0,255)
Title.Font = Enum.Font.FredokaOne
Title.TextScaled = true
Title.TextWrapped = true
Title.ZIndex = 10

-- Thanh ti·∫øn tr√¨nh n·ªÅn (to, bo g√≥c, ƒë·∫πp)
local ProgressBarBg = Instance.new("Frame")
ProgressBarBg.Parent = Background
ProgressBarBg.AnchorPoint = Vector2.new(0.5, 1)
ProgressBarBg.Position = UDim2.new(0.5, 0, 0.96, 0)
ProgressBarBg.Size = UDim2.new(0.85, 0, 0.085, 0)
ProgressBarBg.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
ProgressBarBg.BackgroundTransparency = 0.2
ProgressBarBg.BorderSizePixel = 0
ProgressBarBg.ClipsDescendants = true
ProgressBarBg.ZIndex = 2

local UICorner = Instance.new("UICorner", ProgressBarBg)
UICorner.CornerRadius = UDim.new(0.45,0)

-- Gradient vi·ªÅn ngo√†i thanh ti·∫øn tr√¨nh
local GradientStroke = Instance.new("UIStroke", ProgressBarBg)
GradientStroke.Thickness = 4
GradientStroke.Transparency = 0.1
GradientStroke.Color = Color3.fromRGB(255, 0, 255)

-- Thanh ti·∫øn tr√¨nh ch·∫°y (gradient m√†u neon)
local ProgressBar = Instance.new("Frame")
ProgressBar.Parent = ProgressBarBg
ProgressBar.Size = UDim2.new(0, 0, 1, 0)
ProgressBar.BackgroundTransparency = 1
ProgressBar.BorderSizePixel = 0
ProgressBar.ZIndex = 3

-- Gradient m√†u neon ƒë·ªông
local uiGradient = Instance.new("UIGradient", ProgressBar)
uiGradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(255,0,255)),
	ColorSequenceKeypoint.new(0.15, Color3.fromRGB(0,255,255)),
	ColorSequenceKeypoint.new(0.3, Color3.fromRGB(0,255,0)),
	ColorSequenceKeypoint.new(0.45, Color3.fromRGB(255,255,0)),
	ColorSequenceKeypoint.new(0.6, Color3.fromRGB(255,0,0)),
	ColorSequenceKeypoint.new(0.75, Color3.fromRGB(0,255,255)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(255,0,255))
}

local ProgressBarFill = Instance.new("Frame")
ProgressBarFill.Parent = ProgressBar
ProgressBarFill.Size = UDim2.new(1,0,1,0)
ProgressBarFill.BackgroundColor3 = Color3.fromRGB(255,255,255)
ProgressBarFill.BackgroundTransparency = 0.25
ProgressBarFill.BorderSizePixel = 0
ProgressBarFill.ZIndex = 4
local fillCorner = Instance.new("UICorner", ProgressBarFill)
fillCorner.CornerRadius = UDim.new(0.45,0)

-- √Ånh s√°ng l∆∞·ªõt qua thanh ti·∫øn tr√¨nh (glow effect)
local Glow = Instance.new("ImageLabel")
Glow.Parent = ProgressBar
Glow.Image = "rbxassetid://14407676054" -- ·∫¢nh glow, c√≥ th·ªÉ ƒë·ªïi n·∫øu mu·ªën
Glow.BackgroundTransparency = 1
Glow.Size = UDim2.new(0.13,0,1.2,0)
Glow.Position = UDim2.new(0,0, -0.1,0)
Glow.ImageTransparency = 0.2
Glow.ZIndex = 5

-- V·∫°ch tr·∫Øng ƒë·∫ßu thanh
local ProgressMarker = Instance.new("Frame")
ProgressMarker.Parent = ProgressBarBg
ProgressMarker.Size = UDim2.new(0, 7, 1, 0)
ProgressMarker.BackgroundColor3 = Color3.fromRGB(255,255,255)
ProgressMarker.BackgroundTransparency = 0.1
ProgressMarker.BorderSizePixel = 0
ProgressMarker.ZIndex = 6
local markerCorner = Instance.new("UICorner", ProgressMarker)
markerCorner.CornerRadius = UDim.new(0.5,0)

-- % s·ªë ch·∫°y ph√≠a tr√™n thanh, nh·∫£y m√†u s·∫Øc
local PercentLabel = Instance.new("TextLabel")
PercentLabel.Parent = Background
PercentLabel.AnchorPoint = Vector2.new(0.5,1)
PercentLabel.Position = UDim2.new(0.5, 0, 0.94, 0)
PercentLabel.Size = UDim2.new(0.15, 0, 0.07, 0)
PercentLabel.BackgroundTransparency = 1
PercentLabel.Text = "1%"
PercentLabel.TextColor3 = Color3.fromRGB(255,255,255)
PercentLabel.TextStrokeTransparency = 0.1
PercentLabel.Font = Enum.Font.FredokaOne
PercentLabel.TextScaled = true
PercentLabel.ZIndex = 9

-- Animation cho Title (l·∫Øc l∆∞, ƒë·ªïi m√†u d·∫ßn)
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local duration = 30 -- gi√¢y
local percentStart = 1
local percentEnd = 100

local startTime = tick()
local finished = false

local hue = 0
local function updateTitleAnim(dt)
	hue = (hue + dt*0.18) % 1
	local color = Color3.fromHSV(hue, 0.85, 1)
	Title.TextColor3 = color
	Title.TextStrokeColor3 = Color3.fromHSV((hue+0.1)%1,0.5,1)
	-- L·∫Øc l∆∞
	local sway = math.sin(tick()*2.5)*5
	Title.Rotation = sway
end

local function updatePercentColor(percent)
	local t = percent/100
	local color = Color3.fromHSV((t*0.85)%1, 0.9, 1)
	PercentLabel.TextColor3 = color
end

-- Animation gradient chuy·ªÉn ƒë·ªông cho ProgressBar
local gradientOffset = 0
local function updateGradient(dt)
	gradientOffset = (gradientOffset + dt*0.2)%1
	uiGradient.Offset = Vector2.new(gradientOffset,0)
end

-- H√†m ch·∫°y progress bar
local function updateProgress()
	local elapsed = tick() - startTime
	local alpha = math.clamp(elapsed / duration, 0, 1)
	local percent = math.floor(percentStart + (percentEnd - percentStart) * alpha + 0.5)
	ProgressBar.Size = UDim2.new(alpha, 0, 1, 0)
	ProgressBarFill.Size = UDim2.new(1,0,1,0)
	ProgressMarker.Position = UDim2.new(alpha, -3, 0, 0)
	Glow.Position = UDim2.new(math.clamp(alpha-0.065,0,1-0.13),0,-0.1,0)
	PercentLabel.Text = percent.."%"
	updatePercentColor(percent)
	if alpha >= 1 then
		finished = true
	end
end

-- Animation nh·∫•p nh√°y nh·∫π cho ProgressMarker
local function updateMarkerAnim()
	ProgressMarker.BackgroundTransparency = 0.1 + math.abs(math.sin(tick()*5))*0.2
end

-- Main render loop
local lastTick = tick()
local connection
connection = RunService.RenderStepped:Connect(function()
	if not finished then
		local now = tick()
		local dt = now - lastTick
		lastTick = now
		updateTitleAnim(dt)
		updateGradient(dt)
		updateProgress()
		updateMarkerAnim()
	else
		connection:Disconnect()
		-- T√πy √Ω: ·∫®n ho·∫∑c x√≥a UI sau khi xong
		-- screenGui:Destroy()
	end
end)

-- (Tu·ª≥ ch·ªçn) Cho ph√©p ch·ªânh ·∫£nh n·ªÅn t·ª´ b√™n ngo√†i:
-- game.ReplicatedStorage.ChangeAntiBanBG.OnClientEvent:Connect(function(newId)
--     Background.Image = "rbxassetid://"..tostring(newId)
-- end)
